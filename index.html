<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Portfolio Narrativo</title>
</head>
<body>

  <!-- Título principal -->
  <h1 id="typing-name"><span class="cursor">|</span></h1>

  <!-- Subtítulo -->
  <h2 id="typing-subtitle"></h2>

  <!-- Sonido de tipeo -->
  <audio id="typeSound" src="sounds/type.wav"></audio>

  <script>
    const name = "Agustín Andrés Ibarra";
    const subtitle = "Integral videogame narrative designer | Linguistics & Literature Graduate | Unity Developer | Game Localization";

    const typingSpeed = 100;
    const initialPause = 2000;
    const subtitlePause = 1500;

    const typeSound = document.getElementById("typeSound");
    const titleElement = document.getElementById("typing-name");
    const subtitleElement = document.getElementById("typing-subtitle");

    let index = 0;
    let subIndex = 0;

    // Requiere clic para iniciar (por restricción del navegador)
    document.body.addEventListener("click", () => {
      titleElement.innerHTML = '<span class="cursor">|</span>'; // solo cursor antes de empezar
      setTimeout(typeName, initialPause);
    }, { once: true });

    function typeName() {
      titleElement.innerHTML = name.substring(0, index) + '<span class="cursor">|</span>';
      if (index < name.length) {
        typeSound.currentTime = 0;
        typeSound.play();
      }

      index++;
      if (index <= name.length) {
        setTimeout(typeName, typingSpeed);
      } else {
        // Quitar cursor al terminar el nombre
        titleElement.innerHTML = name;
        setTimeout(typeSubtitle, subtitlePause);
      }
    }

    function typeSubtitle() {
      if (subIndex <= subtitle.length) {
        subtitleElement.innerHTML = subtitle.substring(0, subIndex) + '<span class="cursor">|</span>';
        if (subIndex < subtitle.length) {
          typeSound.currentTime = 0;
          typeSound.play();
        }
        subIndex++;
        setTimeout(typeSubtitle, typingSpeed);
      }
    }
  </script>

  <style>
    body {
      background-color: black;
      color: white;
      font-family: "Arial Black", sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
      cursor: pointer;
    }

    h1 {
      font-size: 3em;
      margin-top: 100px;
      margin-bottom: 20px;
    }

    h2 {
      font-size: 1.6em;
      margin-top: 10px;
      padding: 0 20px;
    }

    .cursor {
      display: inline-block;
      animation: blink 1s infinite;
    }

    @keyframes blink {
      0%   { opacity: 1; }
      50%  { opacity: 0; }
      100% { opacity: 1; }
    }
  </style>

</body>
</html>
